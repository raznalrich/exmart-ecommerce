@if (isModalVisible) {
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <div class="container">
            <form [formGroup]="addProduct" (ngSubmit)="onSubmit()">
              <div class="mb-3">
                <label>Image:</label>
                <input type="file" class="form-control" (change)="onFileChange($event)" />
              </div>

              <div class="mb-3">
                <label>Name:</label>
                <input type="text" class="form-control" formControlName="name" placeholder="Enter product name" />
                @if (addProduct.get('name')?.touched && addProduct.get('name')?.invalid) {
                  @if (addProduct.get('name')?.hasError('required')) {
                    <small>
                      <div class="alert alert-danger" style="margin: 5px">Name is required</div>
                    </small>
                  }
                }
              </div>

              <div class="mb-3">
                <label>Category:</label>
                <select class="form-select" formControlName="categoryId">
                  <option value="">Select a category</option>
                  @for (category of categories; track category.id) {
                    <option [ngValue]="category.id">{{ category.categoryName }}</option>
                  }
                </select>
              </div>

              <div class="mb-3">
                <label>Description:</label>
                <textarea class="form-control" formControlName="description" placeholder="Enter product description"></textarea>
              </div>

              <div class="mb-3">
                <label>Brand:</label>
                <input type="text" class="form-control" formControlName="brand" placeholder="Enter brand" />
              </div>

              <div class="mb-3">
                <label>Vendor ID:</label>
                <input type="number" class="form-control" formControlName="vendorId" placeholder="Enter vendor ID" />
              </div>

              <div class="mb-3">
                <label>Weight (kg):</label>
                <input type="text" class="form-control" formControlName="weight" placeholder="Enter product weight" />
              </div>

              <div class="mb-3">
                <label>Price (in â‚¹):</label>
                <input type="text" class="form-control" formControlName="price" placeholder="Enter price" />
              </div>

              @if (showSizes) {
                <div class="mb-3">
                  <label class="d-block">Sizes:</label>
                  @for (size of sizes; track size.sizeId) {
                    <div class="form-check d-inline-block me-3">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        [value]="size.sizeId"
                        [checked]="isSelected('size', size.sizeId)"
                        (change)="onCheckboxChange($event, 'size')"
                      >
                      <label class="form-check-label">{{ size.size }}</label>
                    </div>
                  }
                </div>
              }


              <div class="mb-3">
                <label class="d-block">Colors:</label>
                @if (isLoading) {
                  <p>Loading colors...</p>
                } @else if (loadError) {
                  <p class="text-danger">{{ loadError }}</p>
                } @else {
                  @for (color of colors; track color.colorId) {
                    <div class="form-check d-inline-block me-3">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        [value]="color.colorId"
                        [checked]="isSelected('color', color.colorId)"
                        (change)="onCheckboxChange($event, 'color')"
                      >
                      <label class="form-check-label">{{ color.colorName }}</label>
                    </div>
                  }
                }
              </div>

              <div class="mb-3">
                <label>Additional Images:</label>
                <input type="file" class="form-control" (change)="onAdditionalFilesChange($event)" multiple />
                <small class="form-text text-muted">You can upload multiple images.</small>
              </div>

              <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Submit</button>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
}
